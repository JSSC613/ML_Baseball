<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <title>MLB ÂãùÁéáÈ†êÊ∏¨Á≥ªÁµ±</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body { background-color: #f0f2f5; }
        .card-model { transition: transform 0.2s; }
        .card-model:hover { transform: translateY(-5px); }
        .log-box { 
            max-height: 400px; 
            overflow-y: auto; 
            font-family: monospace; 
            font-size: 0.9rem;
            background: #212529;
            color: #00ff00;
            padding: 15px;
            border-radius: 5px;
        }
    </style>
</head>
<body class="container py-5">
    <div class="text-center mb-5">
        <h1 class="display-4 fw-bold text-primary">‚öæ MLB Êô∫ÊÖßÈ†êÊ∏¨Âπ≥Âè∞</h1>
        <p class="lead text-muted">Êï¥Âêà Random Forest, XGBoost Ëàá Deep Learning ÊäÄË°ì</p>
    </div>

    <div class="row">
        <!-- Â∑¶ÈÇäÔºöÂñÆÂ†¥È†êÊ∏¨ÂäüËÉΩ -->
        <div class="col-lg-7 mb-4">
            <div class="card shadow border-0 h-100">
                <div class="card-header bg-primary text-white">
                    <h4 class="m-0">üî• ÂñÆÂ†¥Â∞çÊà∞È†êÊ∏¨</h4>
                </div>
                <div class="card-body p-4">
                    <form method="POST" action="/">
                        <div class="row g-3">
                            <div class="col-md-6">
                                <label class="form-label fw-bold">‰∏ªÂ†¥ÁêÉÈöä</label>
                                <select name="home_team" class="form-select form-select-lg">
                                    {% for t in teams %}
                                    <option value="{{ t.code }}">{{ t.display }}</option>
                                    {% endfor %}
                                </select>
                            </div>
                            <div class="col-md-6">
                                <label class="form-label fw-bold">ÂÆ¢Â†¥ÁêÉÈöä</label>
                                <select name="vis_team" class="form-select">
                                    {% for t in teams %}
                                    <option value="{{ t.code }}">{{ t.display }}</option>
                                    {% endfor %}
                                </select>
                            </div>
                        </div>
                        <div class="d-grid gap-2 mt-4">
                            <button type="submit" class="btn btn-dark btn-lg">ÈñãÂßãÂàÜÊûê</button>
                        </div>
                    </form>

                    {% if result %}
                    <div class="alert alert-info mt-4 text-center">
                        <!-- ‰øÆÊîπÈÄôË£°ÔºöÈ°ØÁ§∫ÈöäÂêçÔºå‰∏¶Áî® Badge È°ØÁ§∫ÂàÜÂçÄ -->
                        <h4 class="m-0">
                            <span class="fw-bold">{{ result.home_team }}</span> 
                            <span class="badge bg-secondary" style="font-size: 0.5em; vertical-align: middle;">{{ result.home_div }}</span>
                            <span class="mx-2 text-muted">vs</span>
                            <span class="fw-bold">{{ result.vis_team }}</span>
                            <span class="badge bg-secondary" style="font-size: 0.5em; vertical-align: middle;">{{ result.vis_div }}</span>
                        </h4>
                    </div>

                    <div class="row g-3">
                        <div class="col-md-4">
                            <div class="card card-model border-success h-100">
                                <div class="card-header bg-success text-white text-center">Random Forest</div>
                                <div class="card-body text-center">
                                    <h5 class="text-success">‰∏ª: {{ result.rf_home }}%</h5>
                                    <h5 class="text-danger">ÂÆ¢: {{ result.rf_vis }}%</h5>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="card card-model border-warning h-100">
                                <div class="card-header bg-warning text-dark text-center">XGBoost</div>
                                <div class="card-body text-center">
                                    <h5 class="text-success">‰∏ª: {{ result.xgb_home }}%</h5>
                                    <h5 class="text-danger">ÂÆ¢: {{ result.xgb_vis }}%</h5>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="card card-model border-danger h-100">
                                <div class="card-header bg-danger text-white text-center">Deep Learning</div>
                                <div class="card-body text-center">
                                    <h5 class="text-primary">‰∏ª: {{ result.keras_home }}%</h5>
                                    <h5 class="text-danger">ÂÆ¢: {{ result.keras_vis }}%</h5>
                                </div>
                            </div>
                        </div>
                    </div>
                    {% endif %}
                </div>
            </div>
        </div>

        <!-- Âè≥ÈÇäÔºöÂ≠£ÂæåË≥ΩÊ®°Êì¨ -->
        <div class="col-lg-5 mb-4">
            <div class="card shadow border-0 h-100">
                <div class="card-header bg-dark text-white d-flex justify-content-between align-items-center">
                    <h4 class="m-0">üèÜ 2025 Ë≥ΩÂ≠£Ê®°Êì¨</h4>
                    <a href="/?action=resimulate" class="btn btn-sm btn-outline-light">ÈáçÊñ∞Ê®°Êì¨</a>
                </div>
                <div class="card-body">
                    <div class="text-center mb-3">
                        <h5>È†êÊ∏¨Á∏ΩÂÜ†Ëªç</h5>
                        <h2 class="text-warning fw-bold display-5">{{ champion }}</h2>
                    </div>
                    <div class="log-box">
                        {% for log in logs %}
                        <div>{{ log }}</div>
                        {% endfor %}
                    </div>
                </div>
            </div>
        </div>
    </div>
</body>
</html>